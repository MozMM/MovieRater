(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),s=a.n(n),r=a(18),i=a.n(r),o=(a(48),a(33)),l=a(34),d=a(42),u=a(40),j=a(3),b=a(11),h=a.p+"static/media/RightPointing.ca24b20e.png",_=function(){return Object(c.jsx)("div",{className:"header",children:Object(c.jsx)("div",{className:"header-stuff__container",children:Object(c.jsxs)(b.b,{to:"/",children:[Object(c.jsx)("img",{className:"pointer-image",src:h,alt:""}),Object(c.jsx)("div",{id:"header__text",children:"Movie Rate-I-fier"})]})})})},O=a(41),p=a(9),m=a(4),v=a(12),x=a.n(v),g=a(16),f=a(14),N=a.n(f),y="MOVIE_DATA_LOADING",E="GET_MOVIES_SUCCESS",S="GET_MOVIES_SUCCESS_NO_RESULTS",T="MOVIE_DETAIL_LOADING",D="GET_MOVIE_DETAIL_SUCCESS",R="GET_MOVIE_FAIL",w="GET_RATING_FROM_DB",C="GET_RATING_FROM_DB_FAIL",k=function(e){return e.moviesReducer.isLoading},I=function(e){return e.moviesReducer.movieResults},L=function(e){return e.moviesReducer.errorMsg},M=function(e){return e.moviesReducer.movieDetail},A=function(e){return e.moviesReducer.ratingFromDataBase},P=a.p+"static/media/Cow.18bf5238.jpg",F=function(e){return e.poster_path?Object(c.jsx)("img",{className:"movie-results__poster",src:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:e.title}):Object(c.jsxs)("div",{className:"movie-results__poster__default",children:[Object(c.jsx)("div",{className:"default-text",children:e.title}),Object(c.jsx)("div",{children:"No image available"})]})},U=function(e){var t=function(e){var t="No Moovies. \n Please try \n a different query.";return"Request failed with status code 422"===e&&(t="No Moovies. \n Please provide \n a search query!"),t.split("\n")}(e);return Object(c.jsxs)("div",{className:"cow-error__container",children:[Object(c.jsxs)("div",{className:"cow-text__container",children:[Object(c.jsx)("div",{className:"cow-text",children:t[0]}),Object(c.jsx)("div",{className:"cow-text",children:t[1]}),Object(c.jsx)("div",{children:t[2]})]}),Object(c.jsx)("img",{src:P,alt:""})]})},B=function(e){var t=Object(p.b)(),a=Object(p.c)(I),s=Object(p.c)(L),r=Object(p.c)(k),i=a.length>0,o=Object(n.useState)(""),l=Object(O.a)(o,2),d=l[0],u=l[1];return r?Object(c.jsx)("div",{className:"loading-text__container",children:Object(c.jsx)("div",{className:"loading-text",children:"Loading..."})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"search-container",children:Object(c.jsx)("div",{className:"search",children:Object(c.jsxs)("form",{className:"search__form",children:[Object(c.jsx)("label",{className:"search__label",children:"What are you looking for?"}),Object(c.jsxs)("span",{className:"search__button-container",children:[Object(c.jsx)("input",{className:"search__input",type:"text",onChange:function(e){return u(e.target.value)}}),Object(c.jsx)("button",{className:"search__button",type:"submit",onClick:function(){return t((e=d,function(){var t=Object(g.a)(x.a.mark((function t(a){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:y}),t.prev=1,t.next=4,N.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MOVIE_API_KEY,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"));case 4:0===(c=t.sent).data.total_results?a({type:S,payload:c.data.results}):c.data.results&&a({type:E,payload:c.data.results}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:R,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:"Search Movies"})]})]})})}),Object(c.jsxs)("div",{children:[i&&Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"movie-results__container movie-results__instructions",children:"Click on a poster for details, or to add your rating."}),Object(c.jsx)("div",{className:"movie-results__container",children:a.map((function(e){return Object(c.jsx)("div",{children:Object(c.jsx)(b.b,{to:"/movie/".concat(e.id),children:F(e)})},e.id)}))})]}),Object(c.jsx)("div",{children:s&&U(s)})]})]})},K=a.p+"static/media/ThumbsUp.75b42780.png",V=a.p+"static/media/ThumbsDown.12398e01.png",W=function(e){if(!e)return Object(c.jsxs)("div",{className:"ratings__container",children:[" ",Object(c.jsx)("div",{className:"rating-text",children:"No one around here has voted on this movie yet, go ahead and be the first."})]});var t=e.thumbsUp,a=e.thumbsDown;return Object(c.jsxs)("div",{className:"ratings__container",children:[Object(c.jsxs)("span",{className:"ratings__text",children:[" ","Thumbs Up: ".concat(t)]}),Object(c.jsx)("span",{className:"ratings__symbol",children:"\u2756"}),Object(c.jsx)("span",{className:"ratings__text",children:"Thumbs Down: ".concat(a)})]})},G=function(e){var t,a,s=e.match.params.id,r=Object(p.b)(),i=Object(p.c)(A),o=Object(p.c)(M),l=Object(p.c)(k);return Object(n.useEffect)((function(){r(function(e){return function(){var t=Object(g.a)(x.a.mark((function t(a){var c,n,s,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:T}),t.prev=1,t.next=4,N.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MOVIE_API_KEY,"&language=en-US"));case 4:return c=t.sent,t.next=7,N.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MOVIE_API_KEY,"&language=en-US"));case 7:n=t.sent,s={},r="Name not available",n.data&&(s=n.data.crew.filter((function(e){return"Director"===e.job}))[0])&&(r=s.name),c.data&&a({type:D,payload:Object(m.a)(Object(m.a)({},c.data),{},{director:r})}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),a({type:R,payload:t.t0});case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}()}(s)),r(function(e){return function(){var t=Object(g.a)(x.a.mark((function t(a){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get("/api/ratings/".concat(e));case 3:(c=t.sent)&&a({type:w,payload:c.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:C,payload:"please check database connection."});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(s))}),[]),l?Object(c.jsx)("div",{className:"loading-text__container",children:Object(c.jsx)("div",{className:"loading-text",children:"Loading..."})}):Object(c.jsxs)("div",{className:"movie-detail__container",children:[Object(c.jsx)("div",{className:"movie-detail__poster__container",children:(a=o,a.poster_path?Object(c.jsx)("img",{className:"movie-detail__poster",src:"https://image.tmdb.org/t/p/w500/".concat(a.poster_path),alt:a.title}):Object(c.jsxs)("div",{className:"movie-detail__poster__default",children:[Object(c.jsx)("div",{children:a.title}),Object(c.jsx)("div",{children:"No image available"})]}))}),Object(c.jsxs)("div",{className:"movie-detail__text__container",children:[Object(c.jsx)("div",{className:"movie-detail__title",children:"".concat(o.title)}),Object(c.jsx)("div",{className:"movie-detail__text",children:"Director: ".concat(o.director)}),o.release_date&&Object(c.jsxs)("div",{className:"movie-detail__text",children:[" ","Released: ".concat((t=o.release_date,t.slice(0,4)))]}),Object(c.jsx)("div",{className:"movie-detail__text",children:" Description: ".concat(o.overview)}),Object(c.jsx)("div",{children:W(i)}),Object(c.jsxs)("div",{className:"thumbs__container",children:[Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"search__button thumbs__button",onClick:function(){return r(function(e){return function(){var t=Object(g.a)(x.a.mark((function t(a){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.post("/api/ratings/".concat(e,"/up"));case 3:(c=t.sent)&&a({type:w,payload:{thumbsUp:c.data.thumbsUp,thumbsDown:c.data.thumbsDown}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:C,payload:"please check database connection."});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(o.id))},children:Object(c.jsx)("img",{className:"thumbs-image",src:K,alt:"up"})})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"search__button thumbs__button",onClick:function(){return r(function(e){return function(){var t=Object(g.a)(x.a.mark((function t(a){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.post("/api/ratings/".concat(e,"/down"));case 3:(c=t.sent)&&a({type:w,payload:{thumbsUp:c.data.thumbsUp,thumbsDown:c.data.thumbsDown}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:C,payload:"please check database connection."});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(o.id))},children:Object(c.jsx)("img",{className:"thumbs-image",src:V,alt:"down"})})})]}),Object(c.jsx)("div",{className:"back-button__container",children:Object(c.jsx)("div",{children:Object(c.jsx)(b.b,{to:"/",children:Object(c.jsx)("button",{className:"search__button",children:"Back to Search"})})})})]})]})},H=a.p+"static/media/Turtle.ec316491.jpg",q=function(){return Object(c.jsxs)("div",{className:"notFound__container",children:[Object(c.jsx)("img",{src:H,alt:""}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"notFound__text",children:"Nothing over here..."}),Object(c.jsx)(b.b,{to:"/",children:Object(c.jsx)("button",{className:"search__button",children:"Back to Search"})})]})]})},Y=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{}),Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{exact:!0,path:"/",component:B}),Object(c.jsx)(j.a,{path:"/movie/:id",component:G}),Object(c.jsx)(j.a,{path:"*",component:q})]})]})}}]),a}(n.Component),J=a(13),z=a(37),Q=a(38),X=a(39),Z={movieResults:[],movieDetail:{},ratingFromDataBase:null,dataBaseErr:null,errorMsg:!1,isLoading:!1};var $=Object(J.combineReducers)({moviesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(m.a)(Object(m.a)({},e),{},{movieResults:[],isLoading:!0,errorMsg:null});case T:return Object(m.a)(Object(m.a)({},e),{},{isLoading:!0,errorMsg:null});case E:return Object(m.a)(Object(m.a)({},e),{},{movieResults:t.payload,errorMsg:null,isLoading:!1});case S:return Object(m.a)(Object(m.a)({},e),{},{movieResults:t.payload,errorMsg:"No Moovies. \n Please try \n a different query.",isLoading:!1});case D:return Object(m.a)(Object(m.a)({},e),{},{movieDetail:t.payload,errorMsg:null,isLoading:!1});case R:return Object(m.a)(Object(m.a)({},e),{},{errorMsg:t.payload.message,isLoading:!1});case w:return Object(m.a)(Object(m.a)({},e),{},{ratingFromDataBase:t.payload,dataBaseErr:null});case C:return Object(m.a)(Object(m.a)({},e),{},{dataBaseErr:t.payload});default:return e}}}),ee=Object(X.composeWithDevTools)(Object(J.applyMiddleware)(Q.a,Object(z.createLogger)({collapsed:!0}))),te=Object(J.createStore)($,ee);var ae=function(){return Object(c.jsx)(b.a,{children:Object(c.jsx)(p.a,{store:te,children:Object(c.jsx)(Y,{})})})},ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,78)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(ae,{})}),document.getElementById("root")),ce()}},[[77,1,2]]]);
//# sourceMappingURL=main.ba6b6e92.chunk.js.map